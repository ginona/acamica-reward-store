(this["webpackJsonpreward-store"]=this["webpackJsonpreward-store"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(0),c=(n(10),n(1)),s=n.n(c),a=n(7),i=n.n(a),o=n(2),u=n.p+"static/media/coin.1fc21bda.svg",l=n(3),d=n.n(l),j=n(4),b={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmFjMjQ0OWI5NTIzZTAwMjA3ZTFmYzMiLCJpYXQiOjE2MDUxMTcwMDF9.vHMYlEKnpSVDSejVVyittmqUhIQ9pbD2U5CvqwQYJ4I"},h="https://coding-challenge-api.aerolab.co/user/me",p="https://coding-challenge-api.aerolab.co/products",f="https://coding-challenge-api.aerolab.co/user/points",O="https://coding-challenge-api.aerolab.co/redeem",m=1e3,x=5e3,v=7500;function g(){return(g=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f,{method:"POST",headers:b,body:JSON.stringify({amount:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var N=function(e){return g.apply(this,arguments)};var C=function(e){var t=s.a.useState(""),n=Object(o.a)(t,2),c=n[0],a=n[1],i=function(e){N(e).then((function(e){return a(e.message)}))};return Object(r.jsxs)("div",{className:"modal-screen",children:[Object(r.jsxs)("section",{className:"addCoins",children:[Object(r.jsx)("h4",{className:"title-addCoins",children:" Add more coins "}),Object(r.jsxs)("button",{className:"button-addCoins one",onClick:function(){return i(m)},children:[Object(r.jsx)("img",{src:u,alt:m}),m]}),Object(r.jsxs)("button",{className:"button-addCoins two",onClick:function(){return i(x)},children:[Object(r.jsx)("img",{src:u,alt:x}),x]}),Object(r.jsxs)("button",{className:"button-addCoins three",onClick:function(){return i(v)},children:[Object(r.jsx)("img",{src:u,alt:v}),v]}),Object(r.jsx)("button",{className:"closeAddCoins",onClick:function(){return e.setModal(!1)},children:" X "})]}),console.log(c)]})};function y(){return(y=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h,{method:"GET",headers:b});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var w=function(){return y.apply(this,arguments)},k=s.a.createContext(),P=function(e){var t=s.a.useState([]),n=Object(o.a)(t,2),c=n[0],a=n[1];return s.a.useEffect((function(){w().then((function(e){return a(e)}))}),[c]),Object(r.jsx)(k.Provider,{value:{users:c,setUsers:a},children:e.children})};var S=function(){var e=s.a.useState(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],a=s.a.useContext(k).users;return Object(r.jsxs)("section",{className:"header",children:[Object(r.jsxs)("div",{className:"userNameInfo",children:[Object(r.jsxs)("h6",{className:"userName",children:[" ",a.name," "]}),Object(r.jsxs)("button",{className:"button-headerCoins",onClick:function(){return c(!0)},children:[a.points,Object(r.jsx)("img",{src:u,alt:"coin"})]})]}),n?Object(r.jsx)(C,{setModal:c}):null,Object(r.jsx)("div",{className:"container-header",children:Object(r.jsx)("h6",{className:"title-header",children:" Electronics "})})]})},I=(n(15),n(5)),M=n.p+"static/media/buy-blue.c5c4f01c.svg";function E(){return(E=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O,{method:"POST",headers:b,body:JSON.stringify({productId:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var F=function(e){return E.apply(this,arguments)};var T=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),d=l[0],j=l[1];return Object(r.jsxs)("div",{className:"card",style:{width:"18rem"},onMouseOver:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:[Object(r.jsx)("img",{src:e.img.url,className:s?"img-hovered card-img-top":"card-img-top",alt:e.name}),Object(r.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){return t=e._id,F(t).then((function(e){return j(e.message)})),void console.log(d);var t},children:"Redeem now"}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:e.category}),Object(r.jsx)("h6",{className:"card-title",children:e.name})]}),s?Object(r.jsx)("div",{className:"card-hovered",children:Object(r.jsxs)("div",{className:"buttons-card-hovered",children:[Object(r.jsx)("img",{className:"buy",src:M,alt:"buy"}),Object(r.jsxs)("h5",{className:"card-cost",children:[" ",e.cost," "]}),Object(r.jsx)("img",{className:"coin",src:u,alt:"coin"})]})}):null,d?Object(r.jsxs)("div",{children:[" ",d," "]}):null]})};function J(){return(J=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(p,{method:"GET",headers:b});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var A=function(){return J.apply(this,arguments)},D=function(e,t){var n=s.a.useState(1),r=Object(o.a)(n,2),c=r[0],a=r[1],i=Math.ceil(e.length/t),u=e.slice((c-1)*t,c*t);return{next:function(){a(c+1)},prev:function(){a(c-1)},jump:function(e){a(e)},currentData:function(){var n=(c-1)*t,r=n+t;return e.slice(n,r)},currentPage:c,maxPage:i,currentArray:u}},Q=function(){var e=s.a.useState([]),t=Object(o.a)(e,2),n=t[0],c=t[1],a=s.a.useState("recent"),i=Object(o.a)(a,2),u=i[0],l=i[1];s.a.useEffect((function(){A().then((function(e){return c(e)}))}),[]);var d=D(function(){switch(u){case"lowPrice":return n.sort((function(e,t){return parseFloat(e.cost)-parseFloat(t.cost)})).map((function(e,t){return Object(r.jsx)(T,Object(I.a)({},e),t)}));case"highPrice":return n.sort((function(e,t){return parseFloat(t.cost)-parseFloat(e.cost)})).map((function(e,t){return Object(r.jsx)(T,Object(I.a)({},e),t)}));default:return n.sort((function(e,t){return e._id<t._id?-1:1})).map((function(e,t){return Object(r.jsx)(T,Object(I.a)({},e),t)}))}}(),16),j=d.currentArray,b=d.next,h=d.prev,p=d.maxPage,f=d.currentPage;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:function(){return l("recent")},children:"Most Recent"}),Object(r.jsx)("button",{onClick:function(){return l("lowPrice")},children:"Precio Bajo"}),Object(r.jsx)("button",{onClick:function(){return l("highPrice")},children:"Precio Alto"})]}),Object(r.jsx)("div",{className:"container-cards",children:j}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:function(){return h()},disabled:f<=1,children:"Prev"}),Object(r.jsx)("button",{onClick:function(){return b()},disabled:f>=p,children:"Next"})]})]})};var U=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(P,{children:[Object(r.jsx)(S,{}),Object(r.jsx)(Q,{})]})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(U,{})}),document.getElementById("root")),z()}},[[16,1,2]]]);
//# sourceMappingURL=main.814c0b3b.chunk.js.map